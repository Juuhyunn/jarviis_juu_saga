{"ast":null,"code":"import { call, put, takeLatest } from \"redux-saga/effects\";\nimport { historyFailure, historyRequest, historySuccess } from \"features/history/reducer/historySlice\";\nimport { historyListRequest, historyListSuccess, historyListFailure } from \"features/history/reducer/historySlice\";\nimport { historyModifyRequest, historyModifySuccess, historyModifyFailure } from \"features/history/reducer/historySlice\";\nimport { historyAPI } from \"features/history\";\n\nfunction* create(action) {\n  try {\n    alert(\"Aaaaaaaaaaa\");\n    const result = yield call(historyAPI.createAPI, action.payload);\n    yield put(historySuccess(result));\n    alert(\"나 결과 가지고 도라옴\");\n    window.location.href = \"/history/history\";\n  } catch (error) {\n    yield put(historyFailure(error));\n    alert(\"에ㅓㄹ에러에러에ㅓㄹ\");\n  }\n}\n\nexport function* watchCreate() {\n  yield takeLatest(historyRequest.type, create);\n} //리스트\n\nfunction* list(action) {\n  try {\n    // alert(\"SAGA\")\n    const result = yield call(historyAPI.listAPI, action.payload); // alert(result)\n\n    yield put(historyListSuccess(result)); // alert(\"나 결과 가지고 도라옴\")\n    // alert(JSON.stringify(result.data))\n\n    window.localStorage.setItem('sessionHistory', JSON.stringify(result.data));\n  } catch (error) {\n    yield put(historyListFailure(error)); // alert(\"에ㅓㄹ에러에러에ㅓㄹ\")\n\n    alert(error);\n  }\n}\n\nexport function* watchHistoryList() {\n  yield takeLatest(historyListRequest.type, list);\n} //수정\n\nfunction* modify(action) {\n  try {\n    alert(\"SAGA\");\n    const result = yield call(historyAPI.modifyAPI, action.payload);\n    alert(result);\n    yield put(historyModifySuccess(result)); // alert(\"나 결과 가지고 도라옴\")\n    // alert(JSON.stringify(result.data))\n\n    window.location.href = \"/history/history\"; // window.localStorage.setItem('sessionHistory', JSON.stringify(result.data))\n  } catch (error) {\n    yield put(historyModifyFailure(error)); // alert(\"에ㅓㄹ에러에러에ㅓㄹ\")\n\n    alert(error);\n  }\n}\n\nexport function* watchHistoryModify() {\n  yield takeLatest(historyModifyRequest.type, modify);\n}","map":{"version":3,"sources":["C:/Users/bitcamp/____/진행중/typescript-jarviis-frontend/src/features/history/module/historySaga.ts"],"names":["call","put","takeLatest","historyFailure","historyRequest","historySuccess","historyListRequest","historyListSuccess","historyListFailure","historyModifyRequest","historyModifySuccess","historyModifyFailure","historyAPI","create","action","alert","result","createAPI","payload","window","location","href","error","watchCreate","type","list","listAPI","localStorage","setItem","JSON","stringify","data","watchHistoryList","modify","modifyAPI","watchHistoryModify"],"mappings":"AACA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,SAA6BC,cAA7B,EAA6DC,cAA7D,EAA6EC,cAA7E,QAAoH,uCAApH;AACA,SAASC,kBAAT,EAA6BC,kBAA7B,EAAiDC,kBAAjD,QAA2E,uCAA3E;AACA,SAASC,oBAAT,EAA+BC,oBAA/B,EAAqDC,oBAArD,QAAiF,uCAAjF;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,UAAUC,MAAV,CAAiBC,MAAjB,EAAwD;AACpD,MAAI;AACAC,IAAAA,KAAK,CAAC,aAAD,CAAL;AACA,UAAMC,MAA0B,GAAG,MAAMhB,IAAI,CACzCY,UAAU,CAACK,SAD8B,EAEzCH,MAAM,CAACI,OAFkC,CAA7C;AAIA,UAAMjB,GAAG,CAACI,cAAc,CAACW,MAAD,CAAf,CAAT;AACAD,IAAAA,KAAK,CAAC,cAAD,CAAL;AACAI,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;AAEH,GAVD,CAUE,OAAOC,KAAP,EAAmB;AACjB,UAAMrB,GAAG,CAACE,cAAc,CAACmB,KAAD,CAAf,CAAT;AACAP,IAAAA,KAAK,CAAC,YAAD,CAAL;AACH;AACJ;;AAED,OAAO,UAAUQ,WAAV,GAAwB;AAC3B,QAAMrB,UAAU,CAACE,cAAc,CAACoB,IAAhB,EAAsBX,MAAtB,CAAhB;AACH,C,CACD;;AACA,UAAUY,IAAV,CAAeX,MAAf,EAAuD;AACnD,MAAI;AACA;AACA,UAAME,MAA0B,GAAG,MAAMhB,IAAI,CACzCY,UAAU,CAACc,OAD8B,EAEzCZ,MAAM,CAACI,OAFkC,CAA7C,CAFA,CAMA;;AACA,UAAMjB,GAAG,CAACM,kBAAkB,CAACS,MAAD,CAAnB,CAAT,CAPA,CAQA;AACA;;AAEAG,IAAAA,MAAM,CAACQ,YAAP,CAAoBC,OAApB,CAA4B,gBAA5B,EAA8CC,IAAI,CAACC,SAAL,CAAed,MAAM,CAACe,IAAtB,CAA9C;AAEH,GAbD,CAaE,OAAOT,KAAP,EAAmB;AACjB,UAAMrB,GAAG,CAACO,kBAAkB,CAACc,KAAD,CAAnB,CAAT,CADiB,CAEjB;;AACAP,IAAAA,KAAK,CAACO,KAAD,CAAL;AACH;AACJ;;AAED,OAAO,UAAUU,gBAAV,GAA6B;AAChC,QAAM9B,UAAU,CAACI,kBAAkB,CAACkB,IAApB,EAA0BC,IAA1B,CAAhB;AACH,C,CACD;;AACA,UAAUQ,MAAV,CAAiBnB,MAAjB,EAA4D;AACxD,MAAI;AACAC,IAAAA,KAAK,CAAC,MAAD,CAAL;AACA,UAAMC,MAA0B,GAAG,MAAMhB,IAAI,CACzCY,UAAU,CAACsB,SAD8B,EAEzCpB,MAAM,CAACI,OAFkC,CAA7C;AAIAH,IAAAA,KAAK,CAACC,MAAD,CAAL;AACA,UAAMf,GAAG,CAACS,oBAAoB,CAACM,MAAD,CAArB,CAAT,CAPA,CAQA;AACA;;AACAG,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB,CAVA,CAYA;AAEH,GAdD,CAcE,OAAOC,KAAP,EAAmB;AACjB,UAAMrB,GAAG,CAACU,oBAAoB,CAACW,KAAD,CAArB,CAAT,CADiB,CAEjB;;AACAP,IAAAA,KAAK,CAACO,KAAD,CAAL;AACH;AACJ;;AAED,OAAO,UAAUa,kBAAV,GAA+B;AAClC,QAAMjC,UAAU,CAACO,oBAAoB,CAACe,IAAtB,EAA4BS,MAA5B,CAAhB;AACH","sourcesContent":["import { PayloadAction } from \"@reduxjs/toolkit\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { HistoryDataPayload, historyFailure, HistoryPayload, historyRequest, historySuccess, ListDataPayload } from \"features/history/reducer/historySlice\";\nimport { historyListRequest, historyListSuccess, historyListFailure } from \"features/history/reducer/historySlice\"\nimport { historyModifyRequest, historyModifySuccess, historyModifyFailure } from \"features/history/reducer/historySlice\";\nimport { historyAPI } from \"features/history\";\n\nfunction* create(action: PayloadAction<HistoryPayload>) {\n    try {\n        alert(\"Aaaaaaaaaaa\")\n        const result: HistoryDataPayload = yield call(\n            historyAPI.createAPI,\n            action.payload\n        );\n        yield put(historySuccess(result));\n        alert(\"나 결과 가지고 도라옴\")\n        window.location.href = \"/history/history\"\n\n    } catch (error: any) {\n        yield put(historyFailure(error))\n        alert(\"에ㅓㄹ에러에러에ㅓㄹ\")\n    }\n}\n\nexport function* watchCreate() {\n    yield takeLatest(historyRequest.type, create);\n}\n//리스트\nfunction* list(action: PayloadAction<ListDataPayload>) {\n    try {\n        // alert(\"SAGA\")\n        const result: HistoryDataPayload = yield call(\n            historyAPI.listAPI,\n            action.payload\n        );\n        // alert(result)\n        yield put(historyListSuccess(result));\n        // alert(\"나 결과 가지고 도라옴\")\n        // alert(JSON.stringify(result.data))\n\n        window.localStorage.setItem('sessionHistory', JSON.stringify(result.data))\n\n    } catch (error: any) {\n        yield put(historyListFailure(error))\n        // alert(\"에ㅓㄹ에러에러에ㅓㄹ\")\n        alert(error)\n    }\n}\n\nexport function* watchHistoryList() {\n    yield takeLatest(historyListRequest.type, list);\n}\n//수정\nfunction* modify(action: PayloadAction<HistoryDataPayload>) {\n    try {\n        alert(\"SAGA\")\n        const result: HistoryDataPayload = yield call(\n            historyAPI.modifyAPI,\n            action.payload\n        );\n        alert(result)\n        yield put(historyModifySuccess(result));\n        // alert(\"나 결과 가지고 도라옴\")\n        // alert(JSON.stringify(result.data))\n        window.location.href = \"/history/history\"\n\n        // window.localStorage.setItem('sessionHistory', JSON.stringify(result.data))\n\n    } catch (error: any) {\n        yield put(historyModifyFailure(error))\n        // alert(\"에ㅓㄹ에러에러에ㅓㄹ\")\n        alert(error)\n    }\n}\n\nexport function* watchHistoryModify() {\n    yield takeLatest(historyModifyRequest.type, modify);\n}"]},"metadata":{},"sourceType":"module"}