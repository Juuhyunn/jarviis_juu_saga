{"ast":null,"code":"import { call, put, takeLatest } from \"redux-saga/effects\";\nimport { historyFailure, historyRequest, historySuccess } from \"features/history/reducer/historySlice\";\nimport { historyListRequest, historyListSuccess, historyListFailure } from \"features/history/reducer/historySlice\";\nimport { historyModifyRequest, historyModifySuccess, historyModifyFailure } from \"features/history/reducer/historySlice\";\nimport { historyAPI } from \"features/history\";\n\nfunction* create(action) {\n  try {\n    alert(\"Aaaaaaaaaaa\");\n    const result = yield call(historyAPI.createAPI, action.payload);\n    yield put(historySuccess(result));\n    alert(\"나 결과 가지고 도라옴\");\n  } catch (error) {\n    yield put(historyFailure(error));\n    alert(\"에ㅓㄹ에러에러에ㅓㄹ\");\n  }\n}\n\nexport function* watchCreate() {\n  yield takeLatest(historyRequest.type, create);\n} //리스트\n\nfunction* list(action) {\n  try {\n    alert(\"SAGA\");\n    const result = yield call(historyAPI.listAPI, action.payload); // alert(result)\n\n    yield put(historyListSuccess(result)); // alert(\"나 결과 가지고 도라옴\")\n    // alert(JSON.stringify(result.data))\n\n    window.localStorage.setItem('sessionHistory', JSON.stringify(result.data));\n  } catch (error) {\n    yield put(historyListFailure(error)); // alert(\"에ㅓㄹ에러에러에ㅓㄹ\")\n\n    alert(error);\n  }\n}\n\nexport function* watchList() {\n  yield takeLatest(historyListRequest.type, list);\n} //수정\n\nfunction* modify(action) {\n  try {\n    alert(\"SAGA\");\n    const result = yield call(historyAPI.modifyAPI, action.payload);\n    alert(result);\n    yield put(historyModifySuccess(result)); // alert(\"나 결과 가지고 도라옴\")\n    // alert(JSON.stringify(result.data))\n\n    window.location.href = \"/history\"; // window.localStorage.setItem('sessionHistory', JSON.stringify(result.data))\n  } catch (error) {\n    yield put(historyModifyFailure(error)); // alert(\"에ㅓㄹ에러에러에ㅓㄹ\")\n\n    alert(error);\n  }\n}\n\nexport function* watchModify() {\n  yield takeLatest(historyModifyRequest.type, modify);\n}","map":{"version":3,"sources":["C:/Users/bitcamp/____/진행중/typescript-jarviis-frontend/src/features/history/module/historySaga.ts"],"names":["call","put","takeLatest","historyFailure","historyRequest","historySuccess","historyListRequest","historyListSuccess","historyListFailure","historyModifyRequest","historyModifySuccess","historyModifyFailure","historyAPI","create","action","alert","result","createAPI","payload","error","watchCreate","type","list","listAPI","window","localStorage","setItem","JSON","stringify","data","watchList","modify","modifyAPI","location","href","watchModify"],"mappings":"AACA,SAASA,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,SAA6BC,cAA7B,EAA6DC,cAA7D,EAA6EC,cAA7E,QAAoH,uCAApH;AACA,SAASC,kBAAT,EAA6BC,kBAA7B,EAAiDC,kBAAjD,QAA2E,uCAA3E;AACA,SAASC,oBAAT,EAA+BC,oBAA/B,EAAqDC,oBAArD,QAAiF,uCAAjF;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,UAAUC,MAAV,CAAiBC,MAAjB,EAAwD;AACpD,MAAI;AACAC,IAAAA,KAAK,CAAC,aAAD,CAAL;AACA,UAAMC,MAA0B,GAAG,MAAMhB,IAAI,CACzCY,UAAU,CAACK,SAD8B,EAEzCH,MAAM,CAACI,OAFkC,CAA7C;AAIA,UAAMjB,GAAG,CAACI,cAAc,CAACW,MAAD,CAAf,CAAT;AACAD,IAAAA,KAAK,CAAC,cAAD,CAAL;AACH,GARD,CAQE,OAAOI,KAAP,EAAmB;AACjB,UAAMlB,GAAG,CAACE,cAAc,CAACgB,KAAD,CAAf,CAAT;AACAJ,IAAAA,KAAK,CAAC,YAAD,CAAL;AACH;AACJ;;AAED,OAAO,UAAUK,WAAV,GAAwB;AAC3B,QAAMlB,UAAU,CAACE,cAAc,CAACiB,IAAhB,EAAsBR,MAAtB,CAAhB;AACH,C,CACD;;AACA,UAAUS,IAAV,CAAeR,MAAf,EAAuD;AACnD,MAAI;AACAC,IAAAA,KAAK,CAAC,MAAD,CAAL;AACA,UAAMC,MAA0B,GAAG,MAAMhB,IAAI,CACzCY,UAAU,CAACW,OAD8B,EAEzCT,MAAM,CAACI,OAFkC,CAA7C,CAFA,CAMA;;AACA,UAAMjB,GAAG,CAACM,kBAAkB,CAACS,MAAD,CAAnB,CAAT,CAPA,CAQA;AACA;;AAEAQ,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,gBAA5B,EAA8CC,IAAI,CAACC,SAAL,CAAeZ,MAAM,CAACa,IAAtB,CAA9C;AAEH,GAbD,CAaE,OAAOV,KAAP,EAAmB;AACjB,UAAMlB,GAAG,CAACO,kBAAkB,CAACW,KAAD,CAAnB,CAAT,CADiB,CAEjB;;AACAJ,IAAAA,KAAK,CAACI,KAAD,CAAL;AACH;AACJ;;AAED,OAAO,UAAUW,SAAV,GAAsB;AACzB,QAAM5B,UAAU,CAACI,kBAAkB,CAACe,IAApB,EAA0BC,IAA1B,CAAhB;AACH,C,CACD;;AACA,UAAUS,MAAV,CAAiBjB,MAAjB,EAA4D;AACxD,MAAI;AACAC,IAAAA,KAAK,CAAC,MAAD,CAAL;AACA,UAAMC,MAA0B,GAAG,MAAMhB,IAAI,CACzCY,UAAU,CAACoB,SAD8B,EAEzClB,MAAM,CAACI,OAFkC,CAA7C;AAIAH,IAAAA,KAAK,CAACC,MAAD,CAAL;AACA,UAAMf,GAAG,CAACS,oBAAoB,CAACM,MAAD,CAArB,CAAT,CAPA,CAQA;AACA;;AACAQ,IAAAA,MAAM,CAACS,QAAP,CAAgBC,IAAhB,GAAuB,UAAvB,CAVA,CAYA;AAEH,GAdD,CAcE,OAAOf,KAAP,EAAmB;AACjB,UAAMlB,GAAG,CAACU,oBAAoB,CAACQ,KAAD,CAArB,CAAT,CADiB,CAEjB;;AACAJ,IAAAA,KAAK,CAACI,KAAD,CAAL;AACH;AACJ;;AAED,OAAO,UAAUgB,WAAV,GAAwB;AAC3B,QAAMjC,UAAU,CAACO,oBAAoB,CAACY,IAAtB,EAA4BU,MAA5B,CAAhB;AACH","sourcesContent":["import { PayloadAction } from \"@reduxjs/toolkit\";\nimport { call, put, takeLatest } from \"redux-saga/effects\";\nimport { HistoryDataPayload, historyFailure, HistoryPayload, historyRequest, historySuccess, ListDataPayload } from \"features/history/reducer/historySlice\";\nimport { historyListRequest, historyListSuccess, historyListFailure } from \"features/history/reducer/historySlice\"\nimport { historyModifyRequest, historyModifySuccess, historyModifyFailure } from \"features/history/reducer/historySlice\";\nimport { historyAPI } from \"features/history\";\n\nfunction* create(action: PayloadAction<HistoryPayload>) {\n    try {\n        alert(\"Aaaaaaaaaaa\")\n        const result: HistoryDataPayload = yield call(\n            historyAPI.createAPI,\n            action.payload\n        );\n        yield put(historySuccess(result));\n        alert(\"나 결과 가지고 도라옴\")\n    } catch (error: any) {\n        yield put(historyFailure(error))\n        alert(\"에ㅓㄹ에러에러에ㅓㄹ\")\n    }\n}\n\nexport function* watchCreate() {\n    yield takeLatest(historyRequest.type, create);\n}\n//리스트\nfunction* list(action: PayloadAction<ListDataPayload>) {\n    try {\n        alert(\"SAGA\")\n        const result: HistoryDataPayload = yield call(\n            historyAPI.listAPI,\n            action.payload\n        );\n        // alert(result)\n        yield put(historyListSuccess(result));\n        // alert(\"나 결과 가지고 도라옴\")\n        // alert(JSON.stringify(result.data))\n\n        window.localStorage.setItem('sessionHistory', JSON.stringify(result.data))\n\n    } catch (error: any) {\n        yield put(historyListFailure(error))\n        // alert(\"에ㅓㄹ에러에러에ㅓㄹ\")\n        alert(error)\n    }\n}\n\nexport function* watchList() {\n    yield takeLatest(historyListRequest.type, list);\n}\n//수정\nfunction* modify(action: PayloadAction<HistoryDataPayload>) {\n    try {\n        alert(\"SAGA\")\n        const result: HistoryDataPayload = yield call(\n            historyAPI.modifyAPI,\n            action.payload\n        );\n        alert(result)\n        yield put(historyModifySuccess(result));\n        // alert(\"나 결과 가지고 도라옴\")\n        // alert(JSON.stringify(result.data))\n        window.location.href = \"/history\"\n\n        // window.localStorage.setItem('sessionHistory', JSON.stringify(result.data))\n\n    } catch (error: any) {\n        yield put(historyModifyFailure(error))\n        // alert(\"에ㅓㄹ에러에러에ㅓㄹ\")\n        alert(error)\n    }\n}\n\nexport function* watchModify() {\n    yield takeLatest(historyModifyRequest.type, modify);\n}"]},"metadata":{},"sourceType":"module"}